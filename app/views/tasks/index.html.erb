<h1><%= t('view.list') %></h1>

<p><%= notice %></p>

<%= link_to "終了期限でソートする", tasks_path(sort_expired: "true") %>
<%= link_to "優先順位でソートする", tasks_path(sort_priority: "true") %>
<%= form_with(url: tasks_path, local: true, method: :get ) do |form| %>
  <%= form.text_field :title %>
  <%= form.select :status, ["未着手", "着手中", "完了"], include_blank: true %>
  <%= submit_tag "Search", name: nil %>
<% end %>

<table>
  <tr>
    <th><%= t('view.title') %></th>
    <th><%= t('view.content') %></th>
    <th><%= t('view.deadline') %></th>
    <th><%= t('view.status') %></th>
    <th><%= t('view.priority') %></th>
  </tr>

<% @tasks.each do |task| %>
  <tr class="Task_content">
    <td><%= task.title %></td>
    <td><%= task.content %></td>
    <td><%= task.deadline %></td>
    <td><%= task.status %></td>
    <td><%= task.priority %></td>
    <td class="show"><%= link_to t('view.show'), task_path(task.id) %></td>
    <td class="edit"><%= link_to t('view.edit'), edit_task_path(task.id) %></td>
    <td class="delete"><%= link_to t('view.delete'), task_path(task.id), method: :delete ,data: { confirm: t('view.confirm_delete') } %></td>
  </tr>
<% end %>
</table>
<%= paginate @tasks %>

<%= link_to t('view.new'), new_task_path %>